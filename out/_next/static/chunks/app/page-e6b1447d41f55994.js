(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1451:(e,t,s)=>{Promise.resolve().then(s.bind(s,3792))},3792:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var l=s(5155),a=s(2115),r=s(6766);function i(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(0),[n,d]=(0,a.useState)("start"),[u,m]=(0,a.useState)(!1),[h,f]=(0,a.useState)(0);return(0,a.useEffect)(()=>{"cards"===n&&0===e.length&&(async()=>{let e=[];for(let t=0;t<10;t++)try{let s=await fetch("https://cataas.com/cat?json=true"),l=await s.json();e.push({id:t,url:"https://cataas.com".concat(l.url)})}catch(e){console.error("Error fetching cat:",e)}t(e)})()},[n]),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 w-full max-w-md mx-auto p-4",children:["start"===n&&(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Paws & Preferences"}),(0,l.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"Swipe right to like a kitty, left to dislike!"}),(0,l.jsx)("button",{onClick:()=>d("cards"),className:"bg-blue-500 text-white px-6 py-3 rounded-lg text-lg font-semibold hover:bg-blue-600",children:"Start Swiping"})]}),"cards"===n&&(0,l.jsx)("div",{className:"relative h-[500px] w-full",children:e[o]&&(0,l.jsxs)("div",{id:"cat-card-".concat(o),className:"absolute w-full h-full bg-white rounded-lg shadow-lg overflow-hidden",onTouchStart:e=>{m(!0),f(e.touches[0].clientX)},onTouchMove:e=>{if(!u)return;let t=e.touches[0].clientX-h,s=document.getElementById("cat-card-".concat(o));if(s){s.style.transform="translateX(".concat(t,"px) rotate(").concat(t/20,"deg)");let e=s.querySelector(".like-stamp"),l=s.querySelector(".dislike-stamp");t>50?(null==e||e.classList.add("stamp-visible"),null==l||l.classList.remove("stamp-visible")):t<-50?(null==l||l.classList.add("stamp-visible"),null==e||e.classList.remove("stamp-visible")):(null==e||e.classList.remove("stamp-visible"),null==l||l.classList.remove("stamp-visible"))}},onTouchEnd:()=>{m(!1);let t=document.getElementById("cat-card-".concat(o));if(!t)return;let l=t.getBoundingClientRect(),a=h-(l.left+l.width/2);if(Math.abs(a)>100)t.style.transition="transform 0.3s ease, opacity 0.3s ease",t.style.opacity="0",a>0?(t.style.transform="translateX(100%) rotate(10deg)",i([...s,e[o]])):t.style.transform="translateX(-100%) rotate(-10deg)",setTimeout(()=>{c(t=>{let s=t+1;return s>=e.length?(d("summary"),t):s}),t.style.transition="",t.style.transform="",t.style.opacity="1"},300);else{var r,n;t.style.transition="transform 0.3s ease",t.style.transform="",null==(r=t.querySelector(".like-stamp"))||r.classList.remove("stamp-visible"),null==(n=t.querySelector(".dislike-stamp"))||n.classList.remove("stamp-visible"),setTimeout(()=>{t.style.transition=""},300)}},children:[(0,l.jsx)(r.default,{src:e[o].url,alt:"Cat",fill:!0,className:"object-cover",unoptimized:!0}),(0,l.jsx)("div",{className:"like-stamp absolute top-5 left-5 text-2xl font-bold text-green-500 border-4 border-green-500 p-2 rotate-[-20deg] opacity-0 transition-opacity duration-200",children:"LIKE"}),(0,l.jsx)("div",{className:"dislike-stamp absolute top-5 right-5 text-2xl font-bold text-red-500 border-4 border-red-500 p-2 rotate-[-20deg] opacity-0 transition-opacity duration-200",children:"DISLIKE"})]})}),"summary"===n&&(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Your Favorite Kitties!"}),(0,l.jsxs)("p",{className:"text-lg text-gray-600 mb-6",children:["You liked ",s.length," out of ",e.length," cats!"]}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4 w-full",children:s.map(e=>(0,l.jsx)(r.default,{src:e.url,alt:"Liked Cat",width:150,height:100,className:"w-full h-32 object-cover rounded-lg",unoptimized:!0},e.id))}),(0,l.jsx)("button",{onClick:()=>{t([]),i([]),c(0),d("start")},className:"bg-blue-500 text-white px-6 py-3 rounded-lg text-lg font-semibold hover:bg-blue-600 mt-6",children:"Try Again"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[766,441,684,358],()=>t(1451)),_N_E=e.O()}]);